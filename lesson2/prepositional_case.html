<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prepositional Case (–ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π –ø–∞–¥–µ–∂)</title>
  <link rel="icon" type="image/png" href="../assets/favicon.png">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Shared site stylesheet -->
  <link rel="stylesheet" href="../assets/css/site.css" />

  <style>
    :root {
      --bg1: radial-gradient(1200px 800px at 10% 10%, #f7f3ff 0%, transparent 60%),
        radial-gradient(1000px 800px at 90% 0%, #f1fbff 0%, transparent 65%),
        linear-gradient(180deg, #ffffff, #fbfbff 35%, #f8fbff 100%);
      --chip: rgba(255, 255, 255, .75);
      --muted: rgba(0, 0, 0, .62);
      --good: #198754;
      --bad: #dc3545;
      --accentA: rgba(168, 85, 247, .18);
      --accentB: rgba(34, 197, 94, .16);
      --accentC: rgba(255, 190, 100, .16);
    }

    body {
      background: var(--bg1);
      background-attachment: fixed;
    }

    .page-header {
      padding-top: 2.5rem;
      padding-bottom: 1rem;
    }

    .soft-card {
      border: 0;
      border-radius: 1rem;
      padding: 1rem 1.25rem;
      background:
        linear-gradient(135deg, rgba(255, 255, 255, .92), rgba(255, 255, 255, .72)),
        radial-gradient(600px 400px at 18% 0%, var(--accentA), transparent 60%),
        radial-gradient(600px 400px at 82% 0%, var(--accentB), transparent 60%),
        radial-gradient(600px 400px at 50% 100%, var(--accentC), transparent 60%);
      box-shadow: 0 8px 26px rgba(0, 0, 0, .06);
    }

    .legend-chip {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      padding: .25rem .6rem;
      border-radius: 999px;
      font-size: .92rem;
      background: var(--chip);
      box-shadow: 0 2px 6px rgba(0, 0, 0, .05);
    }

    .dot {
      width: .75rem;
      height: .75rem;
      border-radius: 50%;
      display: inline-block
    }

    .dot.where {
      background: rgba(59, 130, 246, .9);
    }

    .dot.about {
      background: rgba(168, 85, 247, .9);
    }

    .dot.form {
      background: rgba(245, 158, 11, .9);
    }

    .ru {
      font-size: 1.12rem;
      font-weight: 650
    }

    .muted {
      color: var(--muted);
    }

    .pair-table th,
    .pair-table td {
      vertical-align: middle;
    }

    .ending {
      font-weight: 800;
      padding: .05rem .35rem;
      border-radius: .5rem;
      background: rgba(255, 255, 255, .7);
      box-shadow: 0 0 0 1px rgba(0, 0, 0, .05) inset;
    }

    .hint {
      font-size: .95rem;
      color: var(--muted);
    }

    .rule-box {
      background: rgba(255, 255, 255, .35);
      border-radius: 1rem;
      padding: 1rem;
      border: 1px solid rgba(0, 0, 0, .06);
    }

    .practice-row {
      border: 1px solid rgba(0, 0, 0, .06);
      border-radius: 1rem;
      padding: .75rem;
      background: rgba(255, 255, 255, .55);
    }

    .practice-header {
      font-size: .75rem;
      text-transform: uppercase;
      letter-spacing: .08em;
      color: var(--muted);
      padding: 0 .25rem;
    }

    .feedback {
      min-width: 2.2rem;
      text-align: center;
      font-size: 1.2rem;
      line-height: 1;
    }

    .sr-only {
      position: absolute;
      left: -9999px;
      width: 1px;
      height: 1px;
      overflow: hidden
    }

    /* keep long words from breaking layout */
    ul,
    ol,
    li,
    .ru {
      overflow-wrap: anywhere;
      word-break: normal;
    }
  </style>
</head>

<body>
  <div id="navbar-placeholder"></div>

  <main class="container-lg">
    <header class="page-header text-center">
      <h2 class="text-gradient my-5">Prepositional Case (–ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π –ø–∞–¥–µ–∂)</h2>
    </header>

    <!-- 1) Reminder: words change endings -->
    <section class="mb-4">
      <div class="soft-card">
        <p class="mb-2">
          In Russian, words often <strong>change their endings</strong> depending on grammar.
          This can happen because of:
        </p>
        <ul class="mb-2">
          <li><strong>Tense</strong> (past / present / future)</li>
          <li><strong>Number</strong> (singular / plural)</li>
          <li><strong>Gender</strong> (masculine / feminine / neuter)</li>
          <li><strong>Person</strong> (I / you / we / they)</li>
          <li><strong>Case</strong> (the noun‚Äôs job in the sentence)</li>
          <li>‚Ä¶and a few other categories</li>
        </ul>
        <p class="mb-0 hint">
          Good news: you don‚Äôt need to know every rule right away. If you recognize the <em>base word</em>,
          you can often guess the meaning from context.
        </p>
      </div>
    </section>

    <!-- 2) What is a case? What is nominative? -->
    <section class="mb-4">
      <div class="soft-card">
        <p class="mb-2">
          One reason nouns (people/things) change endings is <strong>cases</strong>.
          Russian has <strong>6 cases</strong>. The ‚Äúdefault‚Äù case is the <strong>Nominative</strong> (–ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π).
        </p>

        <div class="row g-3 align-items-start">
          <div class="col-lg-6">
            <div class="rule-box">
              <h4 class="h6 mb-2">Nominative = ‚Äúdefault form‚Äù</h4>
              <ul class="mb-2">
                <li>Dictionary form of a noun</li>
                <li>Often the <strong>subject</strong> of the sentence</li>
              </ul>
              <p class="mb-0 hint">
                <strong>Subject</strong> = who/what performs the action or ‚Äúwhat the sentence is about.‚Äù
                <br>Example: <span class="ru" lang="ru">–ú–∞ÃÅ–º–∞</span> is the subject in <span class="ru" lang="ru">–ú–∞ÃÅ–º–∞ –∑–¥–µ—Å—å.</span>
              </p>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="rule-box">
              <h4 class="h6 mb-2">Important note</h4>
              <p class="mb-2">
                In Russian, there is <strong>not always an explicit subject</strong>.
              </p>
              <ul class="mb-0">
                <li><span class="ru" lang="ru">–•–æÃÅ–ª–æ–¥–Ω–æ.</span> = It‚Äôs cold. (no subject)</li>
                <li><span class="ru" lang="ru">–ú–Ω–µ –Ω—ÉÃÅ–∂–Ω–æ —Ä–∞–±–æÃÅ—Ç–∞—Ç—å.</span> = I need to work. (no ‚ÄúI‚Äù as a subject)</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3) What is a preposition? -->
    <section class="mb-4">
      <div class="soft-card">
        <p class="mb-2">
          Today we look at the <strong>Prepositional case</strong> (–ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π –ø–∞–¥–µ–∂).
        </p>
        <p class="mb-2">
          A <strong>preposition</strong> is a short word like:
          <span class="ru" lang="ru">–≤</span> (in),
          <span class="ru" lang="ru">–Ω–∞</span> (on/at),
          <span class="ru" lang="ru">–æ / –æ–±</span> (about).
          Prepositions often ‚Äúinvite‚Äù the next word to change its ending.
        </p>

        <div class="d-flex gap-2 flex-wrap">
          <span class="legend-chip"><span class="dot where"></span> Location: ‚ÄúWhere?‚Äù</span>
          <span class="legend-chip"><span class="dot about"></span> Topic: ‚ÄúAbout what?‚Äù</span>
          <span class="legend-chip"><span class="dot form"></span> Form changes (endings)</span>
        </div>

        <hr class="my-3">

        <div class="row g-3">
          <div class="col-lg-6">
            <div class="rule-box">
              <h4 class="h6 mb-2">1) Location (Where?)</h4>
              <ul class="mb-0">
                <li><span class="ru" lang="ru">–Ø –≤ —à–∫–æÃÅ–ª<span class="ending">–µ</span>.</span> (I‚Äôm at school.)</li>
                <li><span class="ru" lang="ru">–ö–æ—Ç –Ω–∞ —Å—Ç–æ–ª<span class="ending">–µ</span>.</span> (The cat is on the table.)</li>
                <li><span class="ru" lang="ru">–ú—ã –≤ –ø–∞ÃÅ—Ä–∫<span class="ending">–µ</span>.</span> (We‚Äôre in the park.)</li>
              </ul>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="rule-box">
              <h4 class="h6 mb-2">2) Topic (About what?)</h4>
              <ul class="mb-0">
                <li><span class="ru" lang="ru">–ú—ã –≥–æ–≤–æ—Ä–∏ÃÅ–º –æ –º–∞ÃÅ–º<span class="ending">–µ</span>.</span> (We talk about mom.)</li>
                <li><span class="ru" lang="ru">–Ø –¥—ÉÃÅ–º–∞—é –æ –¥–æÃÅ–º<span class="ending">–µ</span>.</span> (I think about the house.)</li>
                <li><span class="ru" lang="ru">–û —á—ë–º?</span> = About what?</li>
              </ul>
            </div>
          </div>
        </div>

        <p class="mt-3 mb-0 hint">
          You‚Äôll often hear Prepositional with <strong>–≤ / –Ω–∞</strong> (location) and <strong>–æ / –æ–±</strong> (topic).
          The key is the ending change.
        </p>
      </div>
    </section>

    <!-- 4) Detective: examples to deduce -->
    <section class="mb-5">
      <div class="soft-card">
        <p class="mb-1">Let‚Äôs play detective üïµÔ∏è‚Äç‚ôÄÔ∏è.</p>
        <p class="mb-3">Compare the <strong>Nominative</strong> (dictionary form) with the <strong>Prepositional</strong> (after a preposition). Try to <em>deduce</em> what changes.</p>

        <div class="table-responsive">
          <table class="table table-sm pair-table align-middle">
            <thead>
              <tr>
                <th style="width: 30%">Nominative (–ò.–ø.)</th>
                <th style="width: 35%">Preposition + Prepositional (–ü.–ø.)</th>
                <th style="width: 35%">Simple meaning</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="ru" lang="ru">—à–∫–æÃÅ–ª–∞</span></td>
                <td><span class="ru" lang="ru">–≤ —à–∫–æÃÅ–ª<span class="ending">–µ</span></span></td>
                <td>in/at school</td>
              </tr>
              <tr>
                <td><span class="ru" lang="ru">–º–∞ÃÅ–º–∞</span></td>
                <td><span class="ru" lang="ru">–æ –º–∞ÃÅ–º<span class="ending">–µ</span></span></td>
                <td>about mom</td>
              </tr>
              <tr>
                <td><span class="ru" lang="ru">–¥–æ–º</span></td>
                <td><span class="ru" lang="ru">–≤ –¥–æÃÅ–º<span class="ending">–µ</span></span></td>
                <td>in the house</td>
              </tr>
              <tr>
                <td><span class="ru" lang="ru">–º—É–∑–µÃÅ–π</span></td>
                <td><span class="ru" lang="ru">–≤ –º—É–∑–µÃÅ<span class="ending">–µ</span></span></td>
                <td>in the museum</td>
              </tr>
              <tr>
                <td><span class="ru" lang="ru">–æ–∫–Ω–æÃÅ</span></td>
                <td><span class="ru" lang="ru">–≤ –æ–∫–Ω<span class="ending">–µÃÅ</span></span></td>
                <td>in the window (area)</td>
              </tr>
              <tr>
                <td><span class="ru" lang="ru">–º–æÃÅ—Ä–µ</span></td>
                <td><span class="ru" lang="ru">–Ω–∞ –º–æÃÅ—Ä<span class="ending">–µ</span></span></td>
                <td>at the sea</td>
              </tr>
              <tr>
                <td><span class="ru" lang="ru">–Ω–æ—á—å</span></td>
                <td><span class="ru" lang="ru">–æ –Ω–æÃÅ—á<span class="ending">–∏</span></span></td>
                <td>about the night</td>
              </tr>
              <tr>
                <td><span class="ru" lang="ru">–†–æ—Å—Å–∏ÃÅ—è</span></td>
                <td><span class="ru" lang="ru">–≤ –†–æ—Å—Å–∏ÃÅ<span class="ending">–∏</span></span></td>
                <td>in Russia</td>
              </tr>
              <tr>
                <td><span class="ru" lang="ru">–º–µ—Ç—Ä–æÃÅ</span></td>
                <td><span class="ru" lang="ru">–≤ –º–µ—Ç—Ä<span class="ending">–æÃÅ</span></span></td>
                <td>in the metro (no change)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <p class="mb-0 hint">
          Question: do you mostly see <span class="ending">-–µ</span> or <span class="ending">-–∏</span>?
          When does it stay the same?
        </p>
      </div>
    </section>

    <!-- 5) Reveal rule -->
    <section class="mb-4">
      <div class="soft-card">
        <p class="text-center mb-2">
          <a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#ruleCollapse" role="button"
            aria-expanded="false" aria-controls="ruleCollapse"
            onclick="this.style.display='none'">
            Click here to reveal the rule
          </a>
        </p>

        <div class="collapse" id="ruleCollapse">
          <div class="rule-box">
            <h3 class="h5 text-gradient text-center mb-3">Prepositional case: the main pattern (singular)</h3>

            <div class="row g-3">
              <div class="col-lg-6">
                <div class="p-3 rounded-3" style="background: rgba(255,255,255,.55); border:1px solid rgba(0,0,0,.06);">
                  <h4 class="h6 mb-2">Most common ending: <span class="ending">-–µ</span></h4>
                  <ul class="mb-0">
                    <li><strong>Feminine -–∞/-—è</strong> ‚Üí usually <span class="ending">-–µ</span>
                      <br><span class="ru" lang="ru">—à–∫–æ–ª–∞ ‚Üí –≤ —à–∫–æ–ª–µ</span>
                    </li>
                    <li><strong>Masculine consonant/-–π</strong> ‚Üí usually <span class="ending">-–µ</span>
                      <br><span class="ru" lang="ru">–¥–æ–º ‚Üí –≤ –¥–æ–º–µ</span>, <span class="ru" lang="ru">–º—É–∑–µ–π ‚Üí –≤ –º—É–∑–µ–µ</span>
                    </li>
                    <li><strong>Neuter -–æ/-–µ</strong> ‚Üí usually <span class="ending">-–µ</span>
                      <br><span class="ru" lang="ru">–æ–∫–Ω–æ ‚Üí –≤ –æ–∫–Ω–µ</span>, <span class="ru" lang="ru">–º–æ—Ä–µ ‚Üí –Ω–∞ –º–æ—Ä–µ</span>
                    </li>
                  </ul>
                </div>
              </div>

              <div class="col-lg-6">
                <div class="p-3 rounded-3" style="background: rgba(255,255,255,.55); border:1px solid rgba(0,0,0,.06);">
                  <h4 class="h6 mb-2">Common ending: <span class="ending">-–∏</span></h4>
                  <ul class="mb-0">
                    <li><strong>Feminine -—å</strong> ‚Üí often <span class="ending">-–∏</span>
                      <br><span class="ru" lang="ru">–Ω–æ—á—å ‚Üí –æ –Ω–æ—á–∏</span>
                    </li>
                    <li><strong>Nouns in -–∏—è / -–∏–µ</strong> ‚Üí often <span class="ending">-–∏</span>
                      <br><span class="ru" lang="ru">–†–æ—Å—Å–∏—è ‚Üí –≤ –†–æ—Å—Å–∏–∏</span>
                      <br><span class="ru" lang="ru">–∑–¥–∞–Ω–∏–µ ‚Üí –≤ –∑–¥–∞–Ω–∏–∏</span> (example)
                    </li>
                    <li><strong>Some words don‚Äôt change</strong> (indeclinable)
                      <br><span class="ru" lang="ru">–º–µ—Ç—Ä–æ ‚Üí –≤ –º–µ—Ç—Ä–æ</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="mt-3 p-3 rounded-3" style="background: rgba(255,255,255,.4); border:1px solid rgba(0,0,0,.06);">
              <h4 class="h6 mb-2">Exception:</h4>
              <p class="mb-0 hint">
                A small set of masculine nouns sometimes uses <span class="ending">-—É/-—é</span> for location:
                <span class="ru" lang="ru">–≤ –ª–µ—Å—É</span>, <span class="ru" lang="ru">–≤ —Å–∞–¥—É</span>, <span class="ru" lang="ru">–Ω–∞ –º–æ—Å—Ç—É</span>.
                
              </p>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- 6) Interactive practice -->
    <section class="mb-5">
      <div class="soft-card">
        <h2 class="h5 mb-2">Interactive exercise</h2>
        <p class="mb-3">
          Type the correct form for the target case, then press <strong>Check</strong>.
          <br><span class="hint">Tip: copy the exact spelling (including <span class="ru" lang="ru">—ë</span> if shown).</span>
        </p>

        <div class="d-none d-flex flex-wrap gap-2 align-items-center mb-3">
          <label class="legend-chip" for="caseMode">
            <span class="dot form"></span>
            Practice mode:
          </label>

          <select id="caseMode" class="form-select" style="max-width: 320px;">
            <option value="prep" selected>Prepositional (–ü.–ø.) after a preposition</option>
            <option value="nom">Nominative (–ò.–ø.) base form</option>
          </select>

          <button id="resetBtn" class="btn btn-outline-secondary btn-sm">Reset</button>
        </div>

        <div class="row g-3" id="practiceList" aria-live="polite" aria-atomic="true"></div>

        <div class="mt-3 p-3 rounded-3" style="background: rgba(255,255,255,.35); border:1px solid rgba(0,0,0,.06);">
          <p class="mb-1"><strong>Meaning-check questions</strong> (optional):</p>
          <ul class="mb-0">
            <li>What does <span class="ru" lang="ru">–≤ —à–∫–æ–ª–µ</span> mean?</li>
            <li>What does <span class="ru" lang="ru">–æ –º–∞–º–µ</span> mean?</li>
            <li>What‚Äôs the difference between <span class="ru" lang="ru">–¥–æ–º</span> and <span class="ru" lang="ru">–≤ –¥–æ–º–µ</span>?</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    &copy; 2025 Sky4Tech, LLC
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Navbar loader (your site) -->
  <script src="../assets/js/navbar.js"></script>

  <script>
    // Practice dataset: keep it simple + common words
    // Each item includes a "promptPreposition" for prep mode (so students see a natural phrase).
    const ITEMS = [
      { id: "school", nom: "—à–∫–æ–ª–∞", prep: "—à–∫–æ–ª–µ", promptPrep: "–≤ ___", hint: "school (in/at)" },
      { id: "mom", nom: "–º–∞–º–∞", prep: "–º–∞–º–µ", promptPrep: "–æ ___", hint: "mom (about)" },
      { id: "home", nom: "–¥–æ–º", prep: "–¥–æ–º–µ", promptPrep: "–≤ ___", hint: "house (in)" },
      { id: "park", nom: "–ø–∞—Ä–∫", prep: "–ø–∞—Ä–∫–µ", promptPrep: "–≤ ___", hint: "park (in)" },
      { id: "museum", nom: "–º—É–∑–µ–π", prep: "–º—É–∑–µ–µ", promptPrep: "–≤ ___", hint: "museum (in)" },
      { id: "window", nom: "–æ–∫–Ω–æ", prep: "–æ–∫–Ω–µ", promptPrep: "–≤ ___", hint: "window (in)" },
      { id: "sea", nom: "–º–æ—Ä–µ", prep: "–º–æ—Ä–µ", promptPrep: "–Ω–∞ ___", hint: "sea (at)" },
      { id: "night", nom: "–Ω–æ—á—å", prep: "–Ω–æ—á–∏", promptPrep: "–æ ___", hint: "night (about)" },
      { id: "russia", nom: "–†–æ—Å—Å–∏—è", prep: "–†–æ—Å—Å–∏–∏", promptPrep: "–≤ ___", hint: "Russia (in)" },
      { id: "metro", nom: "–º–µ—Ç—Ä–æ", prep: "–º–µ—Ç—Ä–æ", promptPrep: "–≤ ___", hint: "metro (in; no change)" },
    ];

    const practiceList = document.getElementById("practiceList");
    const caseMode = document.getElementById("caseMode");
    const resetBtn = document.getElementById("resetBtn");

    function normalize(s) {
      return (s || "")
        .trim()
        .toLowerCase()
        .replace(/\s+/g, " ");
    }

    function buildPractice() {
      practiceList.innerHTML = "";

      const headerRow = document.createElement("div");
      headerRow.className = "col-12";
      headerRow.innerHTML = `
        <div class="row g-2 align-items-center practice-header">
          <div class="col-lg-4">Given (base word)</div>
          <div class="col-lg-4">Target</div>
          <div class="col-lg-4">Your answer</div>
        </div>
      `;
      practiceList.appendChild(headerRow);

      ITEMS.forEach((it) => {
        const row = document.createElement("div");
        row.className = "col-12";

        row.innerHTML = `
          <div class="practice-row">
            <div class="row g-2 align-items-center">
              <div class="col-lg-4">
                <div class="ru" lang="ru">${it.nom}</div>
                <div class="hint">${it.hint}</div>
              </div>

              <div class="col-lg-4">
                <div class="p-2 rounded-3" style="background: rgba(255,255,255,.45); border: 1px solid rgba(0,0,0,.06);">
                  <span class="ru" lang="ru" data-target="prompt">${it.promptPrep}</span>
                  <span class="muted"> / </span>
                  <span class="ru" lang="ru" data-target="label"></span>
                </div>
              </div>

              <div class="col-lg-4">
                <div class="d-flex gap-2 align-items-center">
                  <input class="form-control" type="text" inputmode="text" autocomplete="off" spellcheck="false"
                    placeholder="Type the correct form‚Ä¶" aria-label="Answer for ${it.nom}" data-id="${it.id}">
                  <button class="btn btn-outline-primary" type="button" data-action="check" data-id="${it.id}">Check</button>
                  <div class="feedback" aria-hidden="true" data-id="${it.id}"> </div>
                </div>
                <div class="sr-only" aria-live="polite" data-id="${it.id}-sr"></div>
              </div>
            </div>
          </div>
        `;

        practiceList.appendChild(row);
      });

      // Update target labels based on mode
      updateModeUI();

      // Wire buttons
      practiceList.querySelectorAll('button[data-action="check"]').forEach(btn => {
        btn.addEventListener("click", () => doCheck(btn.dataset.id));
      });

      // Enter key triggers check
      practiceList.querySelectorAll('input[data-id]').forEach(inp => {
        inp.addEventListener("keydown", (e) => {
          if (e.key === "Enter") doCheck(inp.dataset.id);
        });
      });
    }

    function updateModeUI() {
      const mode = caseMode.value;

      practiceList.querySelectorAll('[data-target="label"]').forEach((el, idx) => {
        const it = ITEMS[idx];
        if (mode === "prep") {
          el.textContent = "(Prepositional)";
        } else {
          el.textContent = "(Nominative)";
        }
      });

      practiceList.querySelectorAll('[data-target="prompt"]').forEach((el, idx) => {
        const it = ITEMS[idx];
        if (mode === "prep") {
          el.textContent = it.promptPrep;
        } else {
          // In nominative mode, we don't need a preposition prompt.
          el.textContent = "___";
        }
      });

      // Clear feedback when switching modes
      clearAllFeedback();
    }

    function clearAllFeedback() {
      practiceList.querySelectorAll('.feedback').forEach(f => f.textContent = "");
      practiceList.querySelectorAll('.sr-only[data-id$="-sr"]').forEach(s => s.textContent = "");
    }

    function doCheck(id) {
      const mode = caseMode.value;
      const it = ITEMS.find(x => x.id === id);
      if (!it) return;

      const input = practiceList.querySelector(`input[data-id="${id}"]`);
      const fb = practiceList.querySelector(`.feedback[data-id="${id}"]`);
      const sr = practiceList.querySelector(`.sr-only[data-id="${id}-sr"]`);

      const guess = normalize(input.value);
      const correct = normalize(mode === "prep" ? it.prep : it.nom);

      if (!guess) {
        fb.textContent = "‚Ä¶";
        sr.textContent = "Please type an answer.";
        return;
      }

      if (guess === correct) {
        fb.textContent = "‚úÖ";
        fb.style.color = "var(--good)";
        sr.textContent = "Correct.";
      } else {
        fb.textContent = "‚ùå";
        fb.style.color = "var(--bad)";
        sr.textContent = `Not quite. Correct answer is: ${mode === "prep" ? it.prep : it.nom}.`;
      }
    }

    resetBtn.addEventListener("click", () => {
      practiceList.querySelectorAll('input[data-id]').forEach(i => i.value = "");
      clearAllFeedback();
    });

    caseMode.addEventListener("change", updateModeUI);

    // initial
    buildPractice();
  </script>
</body>

</html>
